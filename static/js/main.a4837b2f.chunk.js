(this["webpackJsonpexample-apollo-client-local-state"]=this["webpackJsonpexample-apollo-client-local-state"]||[]).push([[0],{72:function(e,t,n){"use strict";n.r(t);var r,c,i,o,a,u,s=n(4),l=n.n(s),j=n(56),d=n.n(j),b=n(21),O=n.n(b),v=n(25),f=n(26),h=n(23),x=n(9),p=n(22),g=Object(x.gql)(r||(r=Object(p.a)(["\n  mutation Noop {\n    items @client\n  }\n"]))),m=Object(x.gql)(c||(c=Object(p.a)(["\n  query GetElements {\n    elements @client\n  }\n"]))),y=Object(x.makeVar)([]),w=n(3),C=function(){var e=Object(x.useQuery)(m),t=e.data,n=e.loading,r=e.error;if(n)return Object(w.jsx)("div",{children:"loading..."});if(r)return Object(w.jsxs)("div",{children:["error: ",r.message]});if(!t||!t.elements)return Object(w.jsx)("div",{children:"no data"});var c=t.elements;return console.log("DATA, data",t),Object(w.jsx)("div",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(w.jsx)("div",{children:e},e)}))})},q=function(){var e=l.a.useState(""),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(x.useMutation)(g,{update:function(){var e=y([].concat(Object(f.a)(y()),[n]));console.log("UPDATE:",e)}}),i=Object(h.a)(c,1)[0],o=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{onChange:function(e){return r(e.target.value)},value:n}),Object(w.jsx)("button",{onClick:o,children:"+"})]})},S=function(){return Object(w.jsx)("button",{onClick:function(){return y([])},children:"clear"})},k=Object(x.gql)(i||(i=Object(p.a)(["\n  mutation Noop {\n    items @client\n  }\n"]))),Q=Object(x.gql)(o||(o=Object(p.a)(["\n  query GetTodos {\n    todos @client\n  }\n"]))),T=new x.ApolloClient({cache:new x.InMemoryCache({typePolicies:{Query:{fields:{items:{read:function(e){return null!==e&&void 0!==e?e:[]}},todos:{read:function(){var e;return JSON.parse(null!==(e=window.localStorage.getItem("TODOS"))&&void 0!==e?e:"[]")}},elements:{read:function(){return y()}}}}}})}),I=function(e){var t=e.children;return Object(w.jsx)(x.ApolloProvider,{client:T,children:t})},A=function(){var e=l.a.useState(""),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(x.useMutation)(k,{update:function(e){var t=e.readQuery({query:Q}),r=null===t||void 0===t?void 0:t.todos,c=[].concat(Object(f.a)(r),[n]),i=e.writeQuery({query:Q,data:{todos:c}});window.localStorage.setItem("TODOS",JSON.stringify(c)),console.log("UPDATE:",i)}}),i=Object(h.a)(c,1)[0],o=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{onChange:function(e){return r(e.target.value)},value:n}),Object(w.jsx)("button",{onClick:o,children:"+"})]})},D=function(){var e=Object(x.useQuery)(Q),t=e.data,n=e.loading,r=e.error;if(n)return Object(w.jsx)("div",{children:"loading..."});if(r)return Object(w.jsxs)("div",{children:["error: ",r.message]});if(!t||!t.todos)return Object(w.jsx)("div",{children:"no data"});var c=t.todos;return Object(w.jsx)("div",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(w.jsx)("div",{children:e},e)}))})},M=function(){return Object(w.jsx)("button",{onClick:function(){window.localStorage.clear(),T.writeQuery({query:Q,data:{todos:[]}})},children:"Clear"})},P=Object(x.gql)(a||(a=Object(p.a)(["\n  query GetItems {\n    items @client\n  }\n"]))),E=Object(x.gql)(u||(u=Object(p.a)(["\n  mutation Noop {\n    items @client\n  }\n"]))),N=function(){var e=l.a.useState(""),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(x.useMutation)(E,{update:function(e){var t=e.readQuery({query:P}),r=null===t||void 0===t?void 0:t.items,c=[].concat(Object(f.a)(r),[n]),i=e.writeQuery({query:P,data:{items:c}});console.log("UPDATE:",i),console.log("new Items",c)}}),i=Object(h.a)(c,1)[0],o=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{onChange:function(e){return r(e.target.value)},value:n}),Object(w.jsx)("button",{onClick:o,children:"+"})]})},F=function(){var e=Object(x.useQuery)(P),t=e.data,n=e.loading,r=e.error;if(n)return Object(w.jsx)("div",{children:"loading..."});if(r)return Object(w.jsxs)("div",{children:["error: ",r.message]});if(!t||!t.items)return Object(w.jsx)("div",{children:"no data"});var c=t.items;return console.log("ITEMS",c),Object(w.jsx)("div",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(w.jsx)("div",{children:e},e)}))})},J=function(){return Object(w.jsx)("button",{onClick:function(){T.writeQuery({query:P,data:{items:[]}})},children:"clear"})};var G=function(){return Object(w.jsxs)(I,{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:"InMemoryCache"}),Object(w.jsx)(N,{}),Object(w.jsx)(F,{}),Object(w.jsx)(J,{})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:"LocalStorage"}),Object(w.jsx)(A,{}),Object(w.jsx)(D,{}),Object(w.jsx)(M,{})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:"Reactive Variables"}),Object(w.jsx)(q,{}),Object(w.jsx)(C,{}),Object(w.jsx)(S,{})]})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))};d.a.render(Object(w.jsx)(l.a.StrictMode,{children:Object(w.jsx)(G,{})}),document.getElementById("root")),L()}},[[72,1,2]]]);
//# sourceMappingURL=main.a4837b2f.chunk.js.map