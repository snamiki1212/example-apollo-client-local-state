{"version":3,"sources":["ReactiveVariables/state.ts","Cookie/state.tsx","apollo/index.tsx","ReactiveVariables/components.tsx","Localstorage/state.ts","Localstorage/components.tsx","PureInMemoryCache/state.ts","PureInMemoryCache/components.tsx","Cookie/components.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Noop","gql","GetElements","elementsVar","makeVar","cookies","Cookies","client","ApolloClient","cache","InMemoryCache","typePolicies","Query","fields","items","read","cached","todos","JSON","parse","window","localStorage","getItem","elements","lines","get","Provider","children","ShowElements","useQuery","data","loading","error","message","map","item","HandleElements","React","useState","text","setText","useMutation","update","noop","handleAdd","a","onChange","e","target","value","onClick","ClearElements","GetTodos","HandleTodos","prevData","readQuery","query","prev","newData","writeQuery","setItem","stringify","ShowTodos","ClearTodos","clear","GetItems","HandleItems","ShowItems","ClearItems","GetLines","ShowLines","line","HandleLines","set","ClearLines","remove","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wOAEaA,EAAOC,cAAH,uEAMJC,EAAcD,cAAH,8EAMXE,EAAcC,kBAAQ,ICZtBC,EAAU,I,MAAIC,G,OCGdC,EAAS,IAAIC,eAAa,CACrCC,MAAO,IAAIC,gBAAc,CACvBC,aAAc,CACZC,MAAO,CACLC,OAAQ,CAENC,MAAO,CACLC,KADK,SACAC,GACH,cAAOA,QAAP,IAAOA,IAAU,KAKrBC,MAAO,CACLF,KADK,WACG,IAAD,EACL,OAAOG,KAAKC,MAAL,UAAWC,OAAOC,aAAaC,QAAQ,gBAAvC,QAAmD,QAK9DC,SAAU,CACRR,KADQ,WAEN,OAAOZ,MAKXqB,MAAO,CACLT,KADK,SACAC,GAAS,IAAD,EACX,wBAAOA,QAAP,IAAOA,IAAUX,EAAQoB,IAAI,gBAA7B,QAAyC,YAS1CC,EAAqB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnC,OAAO,cAAC,iBAAD,CAAgBpB,OAAQA,EAAxB,SAAiCoB,K,yCCxC7BC,EAAe,WAAO,IAAD,EACCC,mBAAS3B,GAAlC4B,EADwB,EACxBA,KAAMC,EADkB,EAClBA,QAASC,EADS,EACTA,MACvB,GAAID,EAAS,OAAO,6CACpB,GAAIC,EAAO,OAAO,0CAAaA,EAAMC,WACrC,IAAKH,IAASA,EAAKP,SAAU,OAAO,0CAEpC,IAAMA,EAA0BO,EAAKP,SAErC,OACE,qCACGA,QADH,IACGA,OADH,EACGA,EAAUW,KAAI,SAACC,GAAD,OACb,8BAAiBA,GAAPA,SAMLC,EAAiB,WAAO,IAAD,EACVC,IAAMC,SAAiB,IADb,mBAC3BC,EAD2B,KACrBC,EADqB,OAEnBC,sBAAYzC,EAAM,CAC/B0C,OAD+B,WAE7BvC,EAAY,GAAD,mBAAKA,KAAL,CAAoBoC,QAF5BI,EAF2B,oBAQ5BC,EAAS,uCAAG,sBAAAC,EAAA,sEACVF,IADU,2CAAH,qDAIf,OACE,gCACE,uBAAOG,SAAU,SAACC,GAAD,OAAOP,EAAQO,EAAEC,OAAOC,QAAQA,MAAOV,IACxD,wBAAQW,QAASN,EAAjB,mBAKOO,EAAgB,WAC3B,OAAO,wBAAQD,QAAS,kBAAM/C,EAAY,KAAnC,oBCxCIH,EAAOC,cAAH,uEAMJmD,EAAWnD,cAAH,wECHRoD,EAAc,WAAO,IAAD,EACPhB,IAAMC,SAAiB,IADhB,mBACxBC,EADwB,KAClBC,EADkB,OAEhBC,sBAAYzC,EAAM,CAC/B0C,OAD+B,SACxBjC,GACL,IAAM6C,EAAW7C,EAAM8C,UAAU,CAC/BC,MAAOJ,IAEHK,EAAI,OAAIH,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBrC,MAE1ByC,EAAO,sBAAOD,GAAP,CAAalB,IAE1B9B,EAAMkD,WAAW,CACfH,MAAOJ,EACPtB,KAAM,CAAEb,MAAOyC,KAGjBtC,OAAOC,aAAauC,QAAQ,QAAS1C,KAAK2C,UAAUH,OAdjDf,EAFwB,oBAoBzBC,EAAS,uCAAG,sBAAAC,EAAA,sEACVF,IADU,2CAAH,qDAIf,OACE,gCACE,uBAAOG,SAAU,SAACC,GAAD,OAAOP,EAAQO,EAAEC,OAAOC,QAAQA,MAAOV,IACxD,wBAAQW,QAASN,EAAjB,mBAKOkB,EAAY,WAAO,IAAD,EACIjC,mBAASuB,GAAlCtB,EADqB,EACrBA,KAAMC,EADe,EACfA,QAASC,EADM,EACNA,MACvB,GAAID,EAAS,OAAO,6CACpB,GAAIC,EAAO,OAAO,0CAAaA,EAAMC,WACrC,IAAKH,IAASA,EAAKb,MAAO,OAAO,0CAEjC,IAAMA,EAAuBa,EAAKb,MAElC,OACE,qCACGA,QADH,IACGA,OADH,EACGA,EAAOiB,KAAI,SAACC,GAAD,OACV,8BAAiBA,GAAPA,SAML4B,EAAa,WASxB,OAAO,wBAAQb,QARD,WACZ9B,OAAOC,aAAa2C,QACpBzD,EAAOoD,WAAW,CAChBH,MAAOJ,EACPtB,KAAM,CAAEb,MAAO,OAIZ,oBC7DIgD,EAAWhE,cAAH,wEAMRD,EAAOC,cAAH,uECHJiE,EAAc,WAAO,IAAD,EACP7B,IAAMC,SAAiB,IADhB,mBACxBC,EADwB,KAClBC,EADkB,OAEhBC,sBAAYzC,EAAM,CAC/B0C,OAD+B,SACxBjC,GACL,IAAM6C,EAAW7C,EAAM8C,UAAU,CAC/BC,MAAOS,IAEHR,EAAI,OAAIH,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBxC,MAC1B4C,EAAO,sBAAOD,GAAP,CAAalB,IAE1B9B,EAAMkD,WAAW,CACfH,MAAOS,EACPnC,KAAM,CAAEhB,MAAO4C,QAVdf,EAFwB,oBAiBzBC,EAAS,uCAAG,sBAAAC,EAAA,sEACVF,IADU,2CAAH,qDAIf,OACE,gCACE,uBAAOG,SAAU,SAACC,GAAD,OAAOP,EAAQO,EAAEC,OAAOC,QAAQA,MAAOV,IACxD,wBAAQW,QAASN,EAAjB,mBAKOuB,EAAY,WAAO,IAAD,EACItC,mBAASoC,GAAlCnC,EADqB,EACrBA,KAAMC,EADe,EACfA,QAASC,EADM,EACNA,MACvB,GAAID,EAAS,OAAO,6CACpB,GAAIC,EAAO,OAAO,0CAAaA,EAAMC,WACrC,IAAKH,IAASA,EAAKhB,MAAO,OAAO,0CAEjC,IAAMA,EAAuBgB,EAAKhB,MAElC,OACE,qCACGA,QADH,IACGA,OADH,EACGA,EAAOoB,KAAI,SAACC,GAAD,OACV,8BAAiBA,GAAPA,SAMLiC,EAAa,WAOxB,OAAO,wBAAQlB,QAND,WACZ3C,EAAOoD,WAAW,CAChBH,MAAOS,EACPnC,KAAM,CAAEhB,MAAO,OAGZ,oBCrDHuD,EAAWpE,cAAH,wEAKRD,EAAOC,cAAH,uEAMGqE,EAAY,WAAO,IAAD,EACIzC,mBAASwC,GAAlCvC,EADqB,EACrBA,KAAMC,EADe,EACfA,QAASC,EADM,EACNA,MAEvB,GAAID,EAAS,OAAO,6CACpB,GAAIC,EAAO,OAAO,0CAAaA,EAAMC,WACrC,IAAKH,IAASA,EAAKN,MAAO,OAAO,0CAEjC,IAAMA,EAAuBM,EAAKN,MAElC,OACE,8BACGA,EAAMU,KAAI,SAACqC,GAAD,OACT,8BAAiBA,GAAPA,SAMLC,EAAc,WAAO,IAAD,EACPnC,IAAMC,SAAiB,IADhB,mBACxBC,EADwB,KAClBC,EADkB,OAEhBC,sBAAYzC,EAAM,CAC/B0C,OAD+B,SACxBjC,GACL,IAAM6C,EAAW7C,EAAM8C,UAAU,CAC/BC,MAAOa,IAEHZ,EAAI,OAAIH,QAAJ,IAAIA,OAAJ,EAAIA,EAAkB9B,MAC1BkC,EAAO,sBAAOD,GAAP,CAAalB,IAE1B9B,EAAMkD,WAAW,CACfH,MAAOa,EACPvC,KAAM,CAAEN,MAAOkC,KAGjBrD,EAAQoE,IAAI,QAASf,MAblBf,EAFwB,oBAmBzBC,EAAS,uCAAG,sBAAAC,EAAA,sEACVF,IADU,2CAAH,qDAIf,OACE,gCACE,uBAAOG,SAAU,SAACC,GAAD,OAAOP,EAAQO,EAAEC,OAAOC,QAAQA,MAAOV,IACxD,wBAAQW,QAASN,EAAjB,mBAKO8B,EAAa,WASxB,OAAO,wBAAQxB,QARD,WACZ3C,EAAOoD,WAAW,CAChBH,MAAOa,EACPvC,KAAM,CAAEN,MAAO,MAGjBnB,EAAQsE,OAAO,UAEV,oBCzBMC,MAlCf,WACE,OACE,eAAC,EAAD,WACE,gCACE,+CACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,OAGF,gCACE,8CACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,OAGF,gCACE,oDACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,OAGF,gCACE,wCACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,WC7BOC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCJdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.941ca374.chunk.js","sourcesContent":["import { gql, makeVar } from \"@apollo/client\";\n\nexport const Noop = gql`\n  mutation Noop {\n    items @client\n  }\n`;\n\nexport const GetElements = gql`\n  query GetElements {\n    elements @client\n  }\n`;\n\nexport const elementsVar = makeVar([] as string[]);\n","import Cookies from \"universal-cookie\";\n\nexport const cookies = new Cookies();\n","import React from \"react\";\nimport { ApolloProvider, ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport { elementsVar } from \"../ReactiveVariables/state\";\nimport { cookies } from \"../Cookie/state\";\n\nexport const client = new ApolloClient({\n  cache: new InMemoryCache({\n    typePolicies: {\n      Query: {\n        fields: {\n          // Plain\n          items: {\n            read(cached) {\n              return cached ?? [];\n            },\n          },\n\n          // Local Starge\n          todos: {\n            read() {\n              return JSON.parse(window.localStorage.getItem(\"TODOS\") ?? \"[]\");\n            },\n          },\n\n          // ReactiveVars\n          elements: {\n            read() {\n              return elementsVar();\n            },\n          },\n\n          // Cookie\n          lines: {\n            read(cached) {\n              return cached ?? cookies.get(\"LINES\") ?? [];\n            },\n          },\n        },\n      },\n    },\n  }),\n});\n\nexport const Provider: React.FC = ({ children }) => {\n  return <ApolloProvider client={client}>{children}</ApolloProvider>;\n};\n","import React from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { GetElements, Noop, elementsVar } from \"./state\";\n\nexport const ShowElements = () => {\n  const { data, loading, error } = useQuery(GetElements);\n  if (loading) return <div>loading...</div>;\n  if (error) return <div>error: {error.message}</div>;\n  if (!data || !data.elements) return <div>no data</div>;\n\n  const elements: Array<string> = data.elements;\n\n  return (\n    <div>\n      {elements?.map((item) => (\n        <div key={item}>{item}</div>\n      ))}\n    </div>\n  );\n};\n\nexport const HandleElements = () => {\n  const [text, setText] = React.useState<string>(\"\");\n  const [noop] = useMutation(Noop, {\n    update() {\n      elementsVar([...elementsVar(), text]);\n    },\n  });\n\n  const handleAdd = async () => {\n    await noop();\n  };\n\n  return (\n    <div>\n      <input onChange={(e) => setText(e.target.value)} value={text} />\n      <button onClick={handleAdd}>+</button>\n    </div>\n  );\n};\n\nexport const ClearElements = () => {\n  return <button onClick={() => elementsVar([])}>clear</button>;\n};\n","import { gql } from \"@apollo/client\";\n\nexport const Noop = gql`\n  mutation Noop {\n    items @client\n  }\n`;\n\nexport const GetTodos = gql`\n  query GetTodos {\n    todos @client\n  }\n`;\n","import React from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { Noop, GetTodos } from \"./state\";\nimport { client } from \"../apollo\";\n\nexport const HandleTodos = () => {\n  const [text, setText] = React.useState<string>(\"\");\n  const [noop] = useMutation(Noop, {\n    update(cache) {\n      const prevData = cache.readQuery({\n        query: GetTodos,\n      });\n      const prev = (prevData as any)?.todos;\n\n      const newData = [...prev, text];\n\n      cache.writeQuery({\n        query: GetTodos,\n        data: { todos: newData },\n      });\n\n      window.localStorage.setItem(\"TODOS\", JSON.stringify(newData));\n    },\n  });\n\n  const handleAdd = async () => {\n    await noop();\n  };\n\n  return (\n    <div>\n      <input onChange={(e) => setText(e.target.value)} value={text} />\n      <button onClick={handleAdd}>+</button>\n    </div>\n  );\n};\n\nexport const ShowTodos = () => {\n  const { data, loading, error } = useQuery(GetTodos);\n  if (loading) return <div>loading...</div>;\n  if (error) return <div>error: {error.message}</div>;\n  if (!data || !data.todos) return <div>no data</div>;\n\n  const todos: Array<string> = data.todos;\n\n  return (\n    <div>\n      {todos?.map((item) => (\n        <div key={item}>{item}</div>\n      ))}\n    </div>\n  );\n};\n\nexport const ClearTodos = () => {\n  const clear = () => {\n    window.localStorage.clear();\n    client.writeQuery({\n      query: GetTodos,\n      data: { todos: [] },\n    });\n  };\n\n  return <button onClick={clear}>Clear</button>;\n};\n","import { gql } from \"@apollo/client\";\n\nexport const GetItems = gql`\n  query GetItems {\n    items @client\n  }\n`;\n\nexport const Noop = gql`\n  mutation Noop {\n    items @client\n  }\n`;\n","import React from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { Noop, GetItems } from \"./state\";\nimport { client } from \"../apollo\";\n\nexport const HandleItems = () => {\n  const [text, setText] = React.useState<string>(\"\");\n  const [noop] = useMutation(Noop, {\n    update(cache) {\n      const prevData = cache.readQuery({\n        query: GetItems,\n      });\n      const prev = (prevData as any)?.items;\n      const newData = [...prev, text];\n\n      cache.writeQuery({\n        query: GetItems,\n        data: { items: newData },\n      });\n    },\n  });\n\n  const handleAdd = async () => {\n    await noop();\n  };\n\n  return (\n    <div>\n      <input onChange={(e) => setText(e.target.value)} value={text} />\n      <button onClick={handleAdd}>+</button>\n    </div>\n  );\n};\n\nexport const ShowItems = () => {\n  const { data, loading, error } = useQuery(GetItems);\n  if (loading) return <div>loading...</div>;\n  if (error) return <div>error: {error.message}</div>;\n  if (!data || !data.items) return <div>no data</div>;\n\n  const items: Array<string> = data.items;\n\n  return (\n    <div>\n      {items?.map((item) => (\n        <div key={item}>{item}</div>\n      ))}\n    </div>\n  );\n};\n\nexport const ClearItems = () => {\n  const clear = () => {\n    client.writeQuery({\n      query: GetItems,\n      data: { items: [] },\n    });\n  };\n  return <button onClick={clear}>clear</button>;\n};\n","import React from \"react\";\nimport { cookies } from \"./state\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\nimport { client } from \"../apollo\";\n\nconst GetLines = gql`\n  query GetLines {\n    lines @client\n  }\n`;\nconst Noop = gql`\n  mutation Noop {\n    lines @client\n  }\n`;\n\nexport const ShowLines = () => {\n  const { data, loading, error } = useQuery(GetLines);\n\n  if (loading) return <div>loading...</div>;\n  if (error) return <div>error: {error.message}</div>;\n  if (!data || !data.lines) return <div>no data</div>;\n\n  const lines: Array<string> = data.lines;\n\n  return (\n    <div>\n      {lines.map((line) => (\n        <div key={line}>{line}</div>\n      ))}\n    </div>\n  );\n};\n\nexport const HandleLines = () => {\n  const [text, setText] = React.useState<string>(\"\");\n  const [noop] = useMutation(Noop, {\n    update(cache) {\n      const prevData = cache.readQuery({\n        query: GetLines,\n      });\n      const prev = (prevData as any)?.lines;\n      const newData = [...prev, text];\n\n      cache.writeQuery({\n        query: GetLines,\n        data: { lines: newData },\n      });\n\n      cookies.set(\"LINES\", newData);\n    },\n  });\n\n  const handleAdd = async () => {\n    await noop();\n  };\n\n  return (\n    <div>\n      <input onChange={(e) => setText(e.target.value)} value={text} />\n      <button onClick={handleAdd}>+</button>\n    </div>\n  );\n};\n\nexport const ClearLines = () => {\n  const clear = () => {\n    client.writeQuery({\n      query: GetLines,\n      data: { lines: [] },\n    });\n\n    cookies.remove(\"LINES\");\n  };\n  return <button onClick={clear}>clear</button>;\n};\n","import React from \"react\";\nimport { Provider } from \"./apollo\";\nimport {\n  ShowElements,\n  ClearElements,\n  HandleElements,\n} from \"./ReactiveVariables/components\";\nimport { ShowTodos, ClearTodos, HandleTodos } from \"./Localstorage/components\";\nimport {\n  ShowItems,\n  ClearItems,\n  HandleItems,\n} from \"./PureInMemoryCache/components\";\nimport { ShowLines, ClearLines, HandleLines } from \"./Cookie/components\";\n\nfunction App() {\n  return (\n    <Provider>\n      <div>\n        <h3>InMemoryCache</h3>\n        <HandleItems />\n        <ShowItems />\n        <ClearItems />\n      </div>\n\n      <div>\n        <h3>LocalStorage</h3>\n        <HandleTodos />\n        <ShowTodos />\n        <ClearTodos />\n      </div>\n\n      <div>\n        <h3>Reactive Variables</h3>\n        <HandleElements />\n        <ShowElements />\n        <ClearElements />\n      </div>\n\n      <div>\n        <h3>Cookie</h3>\n        <HandleLines />\n        <ShowLines />\n        <ClearLines />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}